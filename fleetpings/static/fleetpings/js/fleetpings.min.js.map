{"version":3,"sources":["fleetpings.js"],"names":["Autocomplete","$","document","ready","elements","prePing","formupTimeNow","createSrpLink","createOptimer","fleetSrp","pingTarget","pingChannel","fleetType","csrfToken","fleetComms","fleetCommander","fleetName","formupTime","formupTimestamp","formupLocation","fleetDoctrine","fleetDoctrineUrl","webhookEmbedColor","utils","datetimepicker","lang","fleetpingsSettings","dateTimeLocale","maskInput","format","dayOfWeekStart","step","sanitizeInput","input","replace","escapeInput","quotesToEntities","escaped","getFormupTimestamp","formupDateTime","Date","getTime","getTimezoneOffset","showMessage","message","element","type","autoClose","alertType","closeAfter","containerClasses","html","fadeTo","slideUp","remove","dataLoader","loadSelectData","async","url","target","data","await","fetchGet","responseIsJson","error","console","loadAutocompleteData","inputElement","elementId","trim","createAutocomplete","afterElement","options","onSelectItem","selected_item","datalist","e","handlers","setFleetDoctrineUrl","preventBrowserAutocomplete","onRenderItem","item","label","value","toLowerCase","after","getElementById","initialize","Promise","all","pingTargets","pingWebhooks","fleetTypes","formupLocations","fleetDoctrines","updateCheckboxVisibility","isPrePingChecked","is","isFormupNow","isFleetSrpChecked","optimerInstalled","show","hide","prop","srpModuleAvailableToUser","shouldShowSrpLink","log","val","selectedLink","submitForm","event","preventDefault","validateFields","fields","errorMessage","some","field","translation","srp","missingFields","optimer","formData","serializeArray","reduce","obj","name","fetchPost","fleetPing","payload","success","ping_context","on","toggle","timestamp","selectedOption","embedColor","isChecked","clipboard","ClipboardJS","copyToClipboard","clearSelection","destroy"],"mappings":"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"}